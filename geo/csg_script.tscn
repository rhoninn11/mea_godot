[gd_scene load_steps=11 format=3 uid="uid://dt6hp4kajbv72"]

[ext_resource type="Shader" uid="uid://dft5tumoutr4r" path="res://mat/spectral_gradient.gdshader" id="1_44qcq"]
[ext_resource type="Shader" uid="uid://8o630hklbo6o" path="res://shaders/for_instance.gdshader" id="1_dlla8"]
[ext_resource type="Script" uid="uid://cnrdxcmv457yu" path="res://geo/multi_mesh_instance_3d.gd" id="1_hi4vh"]
[ext_resource type="Script" uid="uid://cfwocyddvfe05" path="res://geo/csg_script.gd" id="1_tf8oc"]
[ext_resource type="Curve" uid="uid://dlu24re5eiuir" path="res://geo/shape_a.tres" id="2_5viud"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_5viud"]
albedo_color = Color(0.105039, 0.187568, 0.311878, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_vgqc3"]
render_priority = 0
shader = ExtResource("1_44qcq")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_dlla8"]
render_priority = 0
shader = ExtResource("1_dlla8")

[sub_resource type="BoxMesh" id="BoxMesh_hi4vh"]
material = SubResource("ShaderMaterial_dlla8")

[sub_resource type="MultiMesh" id="MultiMesh_dlla8"]
transform_format = 1
use_colors = true
instance_count = 12
mesh = SubResource("BoxMesh_hi4vh")
buffer = PackedFloat32Array(-1, 0, 0, 5, 0, 1, 0, 0, 0, 0, -1, 0, 0.289948, 0.126323, 0.0824711, 1, -0.909632, 0, 0.415415, 4.54816, 0, 1, 0, 0, -0.415415, 0, -0.909632, 2.07708, 0.267954, 0.145881, 0.0650451, 1, -0.654861, 0, 0.75575, 3.2743, 0, 1, 0, 0, -0.75575, 0, -0.654861, 3.77875, 0.245043, 0.161392, 0.0611581, 1, -0.281733, 0, 0.959493, 1.40866, 0, 1, 0, 0, -0.959493, 0, -0.281733, 4.79746, 0.223377, 0.173357, 0.0615123, 1, 0.142315, 0, 0.989821, -0.711574, 0, 1, 0, 0, -0.989821, 0, 0.142315, 4.94911, 0.200607, 0.183841, 0.0634378, 1, 0.540641, 0, 0.841254, -2.7032, 0, 1, 0, 0, -0.841254, 0, 0.540641, 4.20627, 0.172431, 0.194345, 0.0688351, 1, 0.841254, 0, 0.540641, -4.20627, 0, 1, 0, 0, -0.540641, 0, 0.841254, 2.7032, 0.134502, 0.204478, 0.0885031, 1, 0.989821, 0, 0.142315, -4.94911, 0, 1, 0, 0, -0.142315, 0, 0.989821, 0.711574, 0.0984995, 0.20958, 0.126748, 1, 0.959493, 0, -0.281733, -4.79746, 0, 1, 0, 0, 0.281733, 0, 0.959493, -1.40866, 0.0800982, 0.209345, 0.162061, 1, 0.75575, 0, -0.654861, -3.77875, 0, 1, 0, 0, 0.654861, 0, 0.75575, -3.2743, 0.0710499, 0.207535, 0.1889, 1, 0.415415, 0, -0.909632, -2.07708, 0, 1, 0, 0, 0.909632, 0, 0.415415, -4.54816, 0.0665001, 0.205029, 0.211734, 1, 1.83697e-16, 0, -1, -9.18485e-16, 0, 1, 0, 0, 1, 0, 1.83697e-16, -5, 0.0659746, 0.201618, 0.233816, 1)

[node name="ProceduralGeometry" type="Node3D"]

[node name="mesh_canvas" type="CSGCombiner3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0101527, -0.0540948, -0.0995824)
material_override = SubResource("StandardMaterial3D_5viud")
material_overlay = SubResource("ShaderMaterial_vgqc3")
calculate_tangents = false
script = ExtResource("1_tf8oc")
profile = PackedVector2Array(5, -1.5, 4.80491, -1.48079, 4.61732, -1.42388, 4.44443, -1.33147, 4.29289, -1.20711, 4.16853, -1.05557, 4.07612, -0.882684, 4.01921, -0.69509, 4, -0.5, 4, 0.5, 3.98079, 0.69509, 3.92388, 0.882683, 3.83147, 1.05557, 3.70711, 1.20711, 3.55557, 1.33147, 3.38268, 1.42388, 3.19509, 1.48079, 3, 1.5, 2.80491, 1.48079, 2.61732, 1.42388, 2.44443, 1.33147, 2.29289, 1.20711, 2.16853, 1.05557, 2.07612, 0.882683, 2.01921, 0.69509, 2, 0.5, 2, -0.5, 1.98079, -0.69509, 1.92388, -0.882683, 1.83147, -1.05557, 1.70711, -1.20711, 1.55557, -1.33147, 1.38268, -1.42388, 1.19509, -1.48079, 1, -1.5)
turn_val = -0.25
fill = 0.605
scale_curve = ExtResource("2_5viud")

[node name="tranformed_profile" type="CSGAlongTransform" parent="mesh_canvas"]
transform_data = PackedFloat32Array(-2, 0, 0, 7, 0, 2, 0, 0, 0, 0, -2, 0, -1.99127, 0, 0.149225, 6.98043, 0, 1.99685, 0, 0, -0.149225, 0, -1.99127, 0.523111, -1.95194, 0, 0.294208, 6.92182, 0, 1.97399, 0, 0, -0.294208, 0, -1.95194, 1.0433, -1.88646, 0, 0.430573, 6.8245, 0, 1.93498, 0, 0, -0.430573, 0, -1.88646, 1.55765, -1.7997, 0, 0.555134, 6.68901, 0, 1.88337, 0, 0, -0.555134, 0, -1.7997, 2.06329, -1.69673, 0, 0.665917, 6.51612, 0, 1.82273, 0, 0, -0.665917, 0, -1.69673, 2.55739, -1.58264, 0, 0.76216, 6.30678, 0, 1.7566, 0, 0, -0.76216, 0, -1.58264, 3.03719, -1.46233, 0, 0.844274, 6.06218, 0, 1.68855, 0, 0, -0.844274, 0, -1.46233, 3.5, -1.34027, 0, 0.913777, 5.78367, 0, 1.62213, 0, 0, -0.913777, 0, -1.34027, 3.94324, -1.22036, 0, 0.973203, 5.47282, 0, 1.5609, 0, 0, -0.973203, 0, -1.22036, 4.36443, -1.10574, 0, 1.02598, 5.13136, 0, 1.50841, 0, 0, -1.02598, 0, -1.10574, 4.76121, -0.998648, 0, 1.07629, 4.76121, 0, 1.46823, 0, 0, -1.07629, 0, -0.998648, 5.13136, -0.900258, 0, 1.12889, 4.36443, 0, 1.4439, 0, 0, -1.12889, 0, -0.900258, 5.47282, -0.810844, 0, 1.18929, 3.94324, 0, 1.4394, 0, 0, -1.18929, 0, -0.810844, 5.78367, -0.731666, 0, 1.26728, 3.5, 0, 1.46333, 0, 0, -1.26728, 0, -0.731666, 6.06218, -0.656107, 0, 1.36242, 3.03719, 0, 1.51217, 0, 0, -1.36242, 0, -0.656107, 6.30678, -0.576609, 0, 1.46918, 2.55739, 0, 1.57828, 0, 0, -1.46918, 0, -0.576609, 6.51612, -0.487524, 0, 1.58051, 2.06329, 0, 1.654, 0, 0, -1.58051, 0, -0.487524, 6.68901, -0.385337, 0, 1.68827, 1.55765, 0, 1.73169, 0, 0, -1.68827, 0, -0.385337, 6.8245, -0.268829, 0, 1.78356, 1.0433, 0, 1.80371, 0, 0, -1.78356, 0, -0.268829, 6.92182, -0.139178, 0, 1.8572, 0.523111, 0, 1.86241, 0, 0, -1.8572, 0, -0.139178, 6.98043, -1.16351e-16, 0, 1.90015, 4.28626e-16, 0, 1.90015, 0, 0, -1.90015, 0, -1.16351e-16, 7, 0.142652, 0, 1.90356, -0.523111, 0, 1.90889, 0, 0, -1.90356, 0, 0.142652, 6.98043, 0.279337, 0, 1.85328, -1.0433, 0, 1.87421, 0, 0, -1.85328, 0, 0.279337, 6.92182, 0.400122, 0, 1.75305, -1.55765, 0, 1.79813, 0, 0, -1.75305, 0, 0.400122, 6.8245, 0.497914, 0, 1.6142, -2.06329, 0, 1.68925, 0, 0, -1.6142, 0, 0.497914, 6.68901, 0.568528, 0, 1.44859, -2.55739, 0, 1.55616, 0, 0, -1.44859, 0, 0.568528, 6.51612, 0.610677, 0, 1.26808, -3.03719, 0, 1.40747, 0, 0, -1.26808, 0, 0.610677, 6.30678, 0.625889, 0, 1.08407, -3.5, 0, 1.25178, 0, 0, -1.08407, 0, 0.625889, 6.06218, 0.618351, 0, 0.906954, -3.94324, 0, 1.09769, 0, 0, -0.906954, 0, 0.618351, 5.78367, 0.594688, 0, 0.745715, -4.36443, 0, 0.953805, 0, 0, -0.745715, 0, 0.594688, 5.47282, 0.563675, 0, 0.607497, -4.76121, 0, 0.828723, 0, 0, -0.607497, 0, 0.563675, 5.13136, 0.535894, 0, 0.497237, -5.13136, 0, 0.731045, 0, 0, -0.497237, 0, 0.535894, 4.76121, 0.523337, 0, 0.417347, -5.47282, 0, 0.669373, 0, 0, -0.417347, 0, 0.523337, 4.36443, 0.538953, 0, 0.367452, -5.78367, 0, 0.652297, 0, 0, -0.367452, 0, 0.538953, 3.94324, 0.592397, 0, 0.342021, -6.06218, 0, 0.684042, 0, 0, -0.342021, 0, 0.592397, 3.5, 0.682699, 0, 0.328771, -6.30678, 0, 0.757739, 0, 0, -0.328771, 0, 0.682699, 3.03719, 0.805009, 0, 0.315943, -6.51612, 0, 0.864789, 0, 0, -0.315943, 0, 0.805009, 2.55739, 0.952314, 0, 0.29375, -6.68901, 0, 0.996589, 0, 0, -0.29375, 0, 0.952314, 2.06329, 1.11584, 0, 0.254684, -6.8245, 0, 1.14454, 0, 0, -0.254684, 0, 1.11584, 1.55765, 1.28552, 0, 0.193761, -6.92182, 0, 1.30004, 0, 0, -0.193761, 0, 1.28552, 1.0433, 1.45042, 0, 0.108694, -6.98043, 0, 1.45449, 0, 0, -0.108694, 0, 1.45042, 0.523111, 1.59928, 0, 1.95855e-16, -7, 0, 1.59928, 0, 0, -1.95855e-16, 0, 1.59928, 8.57253e-16, 1.72099, 0, -0.128971, -6.98043, 0, 1.72582, 0, 0, 0.128971, 0, 1.72099, -0.523111, 1.80511, 0, -0.272077, -6.92182, 0, 1.8255, 0, 0, 0.272077, 0, 1.80511, -1.0433, 1.84235, 0, -0.420504, -6.8245, 0, 1.88973, 0, 0, 0.420504, 0, 1.84235, -1.55765, 1.82518, 0, -0.562993, -6.68901, 0, 1.91004, 0, 0, 0.562993, 0, 1.82518, -2.06329, 1.76817, 0, -0.693955, -6.51612, 0, 1.89947, 0, 0, 0.693955, 0, 1.76817, -2.55739, 1.68715, 0, -0.812488, -6.30678, 0, 1.87259, 0, 0, 0.812488, 0, 1.68715, -3.03719, 1.58621, 0, -0.915798, -6.06218, 0, 1.8316, 0, 0, 0.915798, 0, 1.58621, -3.5, 1.4696, 0, -1.00196, -5.78367, 0, 1.77866, 0, 0, 1.00196, 0, 1.4696, -3.94324, 1.34161, 0, -1.0699, -5.47282, 0, 1.71599, 0, 0, 1.0699, 0, 1.34161, -4.36443, 1.20642, 0, -1.11939, -5.13136, 0, 1.64575, 0, 0, 1.11939, 0, 1.20642, -4.76121, 1.06797, 0, -1.15099, -4.76121, 0, 1.57014, 0, 0, 1.15099, 0, 1.06797, -5.13136, 0.929841, 0, -1.16598, -4.36443, 0, 1.49135, 0, 0, 1.16598, 0, 0.929841, -5.47282, 0.795162, 0, -1.16629, -3.94324, 0, 1.41156, 0, 0, 1.16629, 0, 0.795162, -5.78367, 0.666486, 0, -1.15439, -3.5, 0, 1.33297, 0, 0, 1.15439, 0, 0.666486, -6.06218, 0.545721, 0, -1.1332, -3.03719, 0, 1.25776, 0, 0, 1.1332, 0, 0.545721, -6.30678, 0.434067, 0, -1.10599, -2.55739, 0, 1.18812, 0, 0, 1.10599, 0, 0.434067, -6.51612, 0.331962, 0, -1.07619, -2.06329, 0, 1.12623, 0, 0, 1.07619, 0, 0.331962, -6.68901, 0.239051, 0, -1.04735, -1.55765, 0, 1.07429, 0, 0, 1.04735, 0, 0.239051, -6.8245, 0.15418, 0, -1.02292, -1.0433, 0, 1.03447, 0, 0, 1.02292, 0, 0.15418, -6.92182, 0.0754014, 0, -1.00616, -0.523111, 0, 1.00898, 0, 0, 1.00616, 0, 0.0754014, -6.98043, 1.83697e-16, 0, -1, -1.28588e-15, 0, 1, 0, 0, 1, 0, 1.83697e-16, -7)
polygon = PackedVector2Array(2, -0.5, 1.80491, -0.480785, 1.61732, -0.42388, 1.44443, -0.33147, 1.29289, -0.207107, 1.16853, -0.0555704, 1.07612, 0.117316, 1.01921, 0.30491, 1, 0.5, 1, 1.5, 0.980785, 1.69509, 0.92388, 1.88268, 0.83147, 2.05557, 0.707107, 2.20711, 0.55557, 2.33147, 0.382683, 2.42388, 0.19509, 2.48079, 6.12323e-17, 2.5, -0.19509, 2.48079, -0.382683, 2.42388, -0.55557, 2.33147, -0.707107, 2.20711, -0.83147, 2.05557, -0.92388, 1.88268, -0.980785, 1.69509, -1, 1.5, -1, 0.5, -1.01921, 0.30491, -1.07612, 0.117317, -1.16853, -0.0555702, -1.29289, -0.207107, -1.44443, -0.33147, -1.61732, -0.42388, -1.80491, -0.480785, -2, -0.5)

[node name="cap_0" type="CSGPolygon3D" parent="mesh_canvas"]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 7, 0, 0)
polygon = PackedVector2Array(1, 1.5, 0.980785, 1.69509, 0.92388, 1.88268, 0.83147, 2.05557, 0.707107, 2.20711, 0.55557, 2.33147, 0.382683, 2.42388, 0.19509, 2.48079, 6.12323e-17, 2.5, 0, -0.5, 2, -0.5, 1.80491, -0.480785, 1.61732, -0.42388, 1.44443, -0.33147, 1.29289, -0.207107, 1.16853, -0.0555704, 1.07612, 0.117316, 1.01921, 0.30491, 1, 0.5)
mode = 1
spin_degrees = 180.0
spin_sides = 8

[node name="cap_1" type="CSGPolygon3D" parent="mesh_canvas"]
transform = Transform3D(1.83697e-16, 0, -1, 0, 1, 0, 1, 0, 1.83697e-16, -1.28588e-15, 0, -7)
polygon = PackedVector2Array(1, 1.5, 0.980785, 1.69509, 0.92388, 1.88268, 0.83147, 2.05557, 0.707107, 2.20711, 0.55557, 2.33147, 0.382683, 2.42388, 0.19509, 2.48079, 6.12323e-17, 2.5, 0, -0.5, 2, -0.5, 1.80491, -0.480785, 1.61732, -0.42388, 1.44443, -0.33147, 1.29289, -0.207107, 1.16853, -0.0555704, 1.07612, 0.117316, 1.01921, 0.30491, 1, 0.5)
mode = 1
spin_degrees = 180.0
spin_sides = 8

[node name="MultiMeshInstance3D" type="MultiMeshInstance3D" parent="."]
multimesh = SubResource("MultiMesh_dlla8")
script = ExtResource("1_hi4vh")
num = 12
mm = SubResource("MultiMesh_dlla8")
mesh_src = SubResource("BoxMesh_hi4vh")
fill = 0.75
