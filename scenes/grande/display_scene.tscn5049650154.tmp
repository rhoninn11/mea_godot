[gd_scene load_steps=15 format=3 uid="uid://b3ahbfvwtdsif"]

[ext_resource type="Script" uid="uid://ctt2ry1s18lu0" path="res://src/display_scene.gd" id="1_s4orp"]
[ext_resource type="PackedScene" uid="uid://dvl2al7j8h05w" path="res://scenes/grande/display_content_2D.tscn" id="2_q7rjg"]
[ext_resource type="Script" uid="uid://dwsq4suelenlo" path="res://src/third_person_camera.gd" id="3_3sfxr"]
[ext_resource type="PackedScene" uid="uid://bd7upt7hgbq6c" path="res://scenes/niby_player.tscn" id="4_xcogc"]
[ext_resource type="PackedScene" uid="uid://dfoqyvbtpnhis" path="res://scenes/spot.tscn" id="5_qtjao"]
[ext_resource type="PackedScene" uid="uid://b6s5l3padnv08" path="res://UI/exit_overlay.tscn" id="6_ro5sk"]
[ext_resource type="Script" uid="uid://dqfaak70aj8ny" path="res://scenes/grande/2d_activator.gd" id="7_q7rjg"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_b7am0"]

[sub_resource type="Sky" id="Sky_8oc3c"]
sky_material = SubResource("ProceduralSkyMaterial_b7am0")

[sub_resource type="Environment" id="Environment_vdmdy"]
background_mode = 2
sky = SubResource("Sky_8oc3c")

[sub_resource type="QuadMesh" id="QuadMesh_s4orp"]

[sub_resource type="PlaneMesh" id="PlaneMesh_l2r3q"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2rawk"]
albedo_color = Color(0.141176, 0, 0.0235294, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_3sfxr"]

[node name="display_scene" type="Node3D"]
script = ExtResource("1_s4orp")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)
shadow_enabled = true

[node name="_kamerka" type="Camera3D" parent="." node_paths=PackedStringArray("target")]
transform = Transform3D(-1, 0, 0, 0, 1, 0, 0, 0, -1, 1.385, 2, -3)
script = ExtResource("3_3sfxr")
target = NodePath("../_niby_player")

[node name="_bg" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_vdmdy")

[node name="display" type="MeshInstance3D" parent="."]
transform = Transform3D(-2.97224, 0, -2.59842e-07, 0, 2.97223, 0, 2.59841e-07, 0, -2.97224, 3.03904, 0.818496, 5.62376)
mesh = SubResource("QuadMesh_s4orp")
skeleton = NodePath("../_niby_player")

[node name="display2" type="MeshInstance3D" parent="."]
transform = Transform3D(-2.96652, 0.010442, -0.184002, -1.49012e-08, 2.96746, 0.168401, 0.184298, 0.168077, -2.96176, -2.49833, 0.818496, 5.96778)
mesh = SubResource("QuadMesh_s4orp")
skeleton = NodePath("../_niby_player")

[node name="_niby_player" parent="." instance=ExtResource("4_xcogc")]
transform = Transform3D(-0.99794, 0, 0.0641491, 0, 1, 0, -0.0641491, 0, -0.99794, 1.385, 0, 0)

[node name="Area3D" parent="." instance=ExtResource("5_qtjao")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.47475, 0, 1.37243)

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(4.71467, 0, 0, 0, 4.71467, 0, 0, 0, 4.71467, -0.0071867, -0.419968, -0.0513704)
mesh = SubResource("PlaneMesh_l2r3q")
surface_material_override/0 = SubResource("StandardMaterial3D_2rawk")

[node name="ExitOverlay" parent="." instance=ExtResource("6_ro5sk")]

[node name="_context_2d" type="SubViewport" parent="."]
render_target_update_mode = 4

[node name="scene_2d" parent="_context_2d" instance=ExtResource("2_q7rjg")]
position = Vector2(11, 17)
speed = null
has_control = null

[node name="Area3D2" type="Area3D" parent="." node_paths=PackedStringArray("node")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.43251, -0.419968, 3.41856)
script = ExtResource("7_q7rjg")
node = NodePath("../_context_2d/scene_2d")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D2"]
shape = SubResource("BoxShape3D_3sfxr")

[connection signal="area_entered" from="Area3D2" to="Area3D2" method="_on_area_entered"]
